<div class="row">
  <div class="content content-box col-md-9">
    <div oo-error-overlay></div>
    <form name="kundeForm">
      <div class="col-md-6">
        <div class="panel panel-default">
          <div class="panel-heading clearfix">
            <h3 class="panel-title">{{ fullName() || 'Kunde'|translate}}</h3>
          </div>
          <div class="panel-body">
            <div class="row form-group">
              <div class="col-md-4">
                <label for="typen" translate>Typen</label>
              </div>
              <div class="col-md-8">
                <oo-kundentypen kundentypen-list="kunde.typen"></oo-kundentypen>
              </div>
            </div>
            <div class="row form-group">
              <div class="col-md-4">
                <label for="bezeichnung" translate>Bezeichnung</label>
              </div>
              <div class="col-md-8">
                <input type="text" class="form-control" name="bezeichnung" ng-model="kunde.bezeichnung" placeholder="{{'Bezeichnung'|translate}}" required>
              </div>
            </div>
            <div class="row form-group">
              <div class="col-md-4">
                <label for="strasse" translate>Strasse / Nr.</label>
              </div>
              <div class="col-md-4">
                <input type="text" class="form-control" id="strasse" ng-model="person.strasse" ng-required="!person.postfach" placeholder="{{'Strasse'|translate}}" maxlength="30">
              </div>
              <div class="col-md-1">
                <input type="text" class="form-control" id="hausNummer" ng-model="person.hausNummer" placeholder="{{'Nr'|translate}}" maxlength="10">
              </div>
            </div>
            <div class="row form-group">
              <div class="col-md-4">
                <label for="adressZusatz" translate>Adresszusatz</label>
              </div>
              <div class="col-md-8">
                <input type="text" class="form-control" name="adressZusatz" ng-model="person.adressZusatz" placeholder="{{'Adresszusatz'|translate}}">
              </div>
            </div>
            <div class="row form-group">
              <div class="col-md-4">
                <label for="plz" translate>PLZ / Ort</label>
              </div>
              <div class="col-md-1">
                <input type="text" pattern="[0-9]{4}" class="form-control" id="plz" ng-model="person.plz" required placeholder="{{'PLZ'|translate}}" maxlength="4">
              </div>
              <div class="col-md-4">
                <input type="text" class="form-control" id="ort" ng-model="person.ort" required placeholder="{{'Ort'|translate}}" maxlength="35">
              </div>
            </div>
            <div class="row form-group">
              <div class="col-md-4">
                <label for="bemerkungen" translate>Bemerkungen</label>
              </div>
              <div class="col-md-8">
                <textarea class="form-control" name="bemerkungen" ng-model="kunde.bemerkungen" placeholder="{{'Bemerkungen'|translate}}..."></textarea>
              </div>
            </div>
            <div class="panel-footer">
              <div class="row form-group">
                <div class="col-md-4">
                  <oo-save-button model="kunde" form="kundeForm" entity="Kunde" on-save="save" on-cancel="backToList" on-created="created">{{fullName() || 'Kunde'|translate}}</oo-save-button>
                </div>
                <div class="col-md-8" ng-if="isExisting()">
                  <oo-delete-button ng-if="kunde.anzahlAbos === 0" model="kunde" entity="Kunde" on-delete="delete" on-deleted="backToList"></oo-delete-button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="panel panel-default"  ng-if="isExisting()">
          <div class="panel-heading clearfix">
            <h3 class="panel-title" translate>Abos <button role="button" href="#/kunden/{{kunde.id}}/abos/new" class="btn btn-primary" translate>Neues Abo</button></h3>
          </div>
          <div class="panel-body">
            <table class="table table-striped table-condensed">
              <tr ng-repeat="abo in kunde.abos">
                <td>
                  <a ng-href="#kunden/{{kunde.id}}/abos/{{abo.id}}" translate>Details</a>
                </td>
                <td>
                  <a ng-href="#/abotypen/{{abo.abotypId}}" translate>{{abo.abotypName}}</a>
                </td>
                <td>
                  <a ng-href="#/depots/{{abo.depotId}}" translate>{{abo.depotName}}</a>
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="panel panel-default" ng-repeat="person in kunde.personen">
          <div class="panel-heading clearfix">
            <h3 class="panel-title">{{ fullName() || 'Ansprechperson'|translate}}</h3>
          </div>
          <div class="panel-body">
            <div class="row form-group">
              <div class="col-md-4">
                <label for="vorname" translate>Vorname</label>
              </div>
              <div class="col-md-8">
                <input type="text" class="form-control" name="vorname" ng-model="person.vorname" placeholder="{{'Vorname'|translate}}" required>
              </div>
            </div>
            <div class="row form-group">
              <div class="col-md-4">
                <label for="name" translate>Name</label>
              </div>
              <div class="col-md-8">
                <input type="text" class="form-control" name="name" ng-model="person.name" placeholder="{{'Name'|translate}}" required>
              </div>
            </div>
            <div class="row form-group">
              <div class="col-md-4">
                <label for="email" translate>Email</label>
              </div>
              <div class="col-md-8">
                <input type="email" class="form-control" name="email" ng-model="person.email" placeholder="{{'Email'|translate}}" required>
              </div>
            </div>
            <div class="row form-group">
              <div class="col-md-4">
                <label for="emailAlternative" translate>Alternative Emailadresse</label>
              </div>
              <div class="col-md-8">
                <input type="email" class="form-control" name="emailAlternative" ng-model="person.emailAlternative" placeholder="{{'Alternative Emailadresse'|translate}}">
              </div>
            </div>
            <div class="row form-group">
              <div class="col-md-4">
                <label for="telefon" translate>Telefon</label>
              </div>
              <div class="col-md-8">
                <input type="text" class="form-control" name="telefon" ng-model="person.telefon" placeholder="{{'Telefon'|translate}}">
              </div>
            </div>
            <div class="row form-group">
              <div class="col-md-4">
                <label for="telefonAlternative" translate>Alternative Telefonnummer</label>
              </div>
              <div class="col-md-8">
                <input type="text" class="form-control" name="telefonAlternative" ng-model="person.telefonAlternative" placeholder="{{'Alternative Telefonnummer'|translate}}">
              </div>
            </div>
            <div class="row form-group" ng-if="kunde.anzahlPersonen > 1">
              <div class="col-md-4">
                <label for="bemerkungen" translate>Bemerkungen</label>
              </div>
              <div class="col-md-8">
                <textarea class="form-control" name="bemerkungen" ng-model="person.bemerkungen" placeholder="{{'Bemerkungen'|translate}}..."></textarea>
              </div>
            </div>
          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-body">
            <a role="button" translate>Ansprechperson hinzuf√ºgen</a>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
