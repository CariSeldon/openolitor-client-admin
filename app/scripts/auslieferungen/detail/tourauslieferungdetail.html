<div class="row">
  <div class="content content-box col-md-9">
    <div oo-error-overlay></div>
    <div class="panel panel-default">
      <div class="panel-heading clearfix">
        <h3 class="panel-title"><span class="navbar-brand"><span translate>Tourauslieferung</span> <small>{{model.datum | date: 'dd.MM.yyyy'}} - {{model.tour.name}}</small></span>
        <form class="navbar-form pull-right" role="search">
          <div class="form-group">
            <input type="text" class="form-control" placeholder="{{'Suche in KÃ¶rben...'|translate}}" ng-model="search.query">
            <oo-actions-button model="model" actions="actions" entity="TourAuslieferung"></oo-actions-button>
          </div>
        </form>
      </span>
      </h3>
      </div>
      <div class="panel-body">
        <div ng-hide="model">
          <p ng-show="loading"><i class="fa fa-circle-o-notch fa-spin fa-2x"></i></p>
        </div>
        <div ng-show="model">
          <div class="panel-body" sv-root sv-on-sort="onSort()">
            <table class="table table-striped table-condensed">
              <thead>
                <tr>
                  <th tanslate>Position</th>
                  <th tanslate>Abo Nr.</th>
                  <th tanslate>Abotyp</th>
                  <th tanslate>Kunde</th>
                  <th tanslate>PLZ / Ort</th>
                  <th tanslate></th>
                </tr>
              </thead>
              <tbody sv-part="model.koerbe">
                <tr ng-repeat="korb in model.koerbe | filter:itemFilter" style="cursor: move;" sv-element>
                  <td>
                    <span>&#8942;</span> {{korb.sort}}
                  </td>
                  <td>
                    {{korb.abo.id}}
                  </td>
                  <td>
                    <span class="color-box" ng-style="style(korb.abotyp)"></span>
                  </td>
                  <td>
                    {{korb.abotyp.name}}
                  </td>
                  <td>
                    {{korb.kunde.bezeichnung|date:"dd.MM.yyyy"}}
                  </td>
                  <td>
                    {{korb.kunde.plz}} {{korb.kunde.ort}}
                  </td>
                  <td>
                    <div class="pull-right">
                      <div class="btn-group">
                        <button uib-btn-checkbox ng-model="selectedAbo" role="button" ng-href="" ng-click="selectAbo(korb.abo)" class="btn btn-sm btn-default" oo-stop-event><i class="fa fa-long-arrow-right"></i></button>
                      </div>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="content-box col-md-3" ng-if="showGenerateReport">
    <oo-generate-report on-close="closeBericht" projekt-vorlagen="projektVorlagen()" on-generated="closeBericht" post-path="'tourauslieferungen/berichte/'+reportType" ids="[model.id]" default-file-name="'Etiketten.zip'|translate"></oo-generate-report>
  </div>
  <div class="context content-box col-md-3" ng-if="selectedAbo">
    <oo-abos-detail kunde-id="selectedAbo.kundeId" abo-id="selectedAbo.id"></oo-abos-detail>
  </div>
</div>
