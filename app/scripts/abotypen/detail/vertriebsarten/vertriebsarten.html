<div class="panel panel-default oo-vertriebsarten">
  <div class="panel-heading clearfix">
    <h3 class="panel-title dropdown" translate>Vertriebsarten
        <span class="pull-right" ng-show="loading || template.updating"><i class="fa fa-circle-o-notch fa-spin fa-2x"></i></span>
        <div uib-dropdown class="btn-group pull-right" role="group">
          <a uib-dropdown-toggle role="button" ng-href="" class="btn btn-default"><span class="glyphicon glyphicon-plus"></span> </a>
          <ul uib-dropdown-menu role="menu" class="dropdown-form">
            <li role="menuitem" ng-repeat="typ in vertriebsartenTypen"><a href="" ng-click="addVertriebsart(typ)">{{typ.label}}</a></li>
          </ul>
        </div>
    </h3>
  </div>
  <div class="panel-body">
    <table class="table">
      <tbody>
        <tr ng-repeat="vertriebsart in vertriebsarten" ng-class="vertriebsartClass(vertriebsart)" ng-click="selectVertriebsart(vertriebsart)" >
          <td><label translate>{{vertriebsart.typ}}</label></td>
          <td>
            <div class="form-group" ng-if="isDepot(vertriebsart)">
              <label for="depot" translate>Depot</label>
            </div>
            <div class="form-group" ng-if="isDepot(vertriebsart)">
              <oo-dropdown placeholder="{{'Bitte wählen...'|translate}}" dropdown-id="depot" display-style="uib-dropdown" values="depots" property="name" selected-prop="id" selected="vertriebsart.depotId" required></oo-dropdown>
            </div>
            <div class="form-group" ng-if="isHeimlieferung(vertriebsart)">
              <label for="depot" translate>Tour</label>
            </div>
            <div class="form-group" ng-if="isHeimlieferung(vertriebsart)">
              <oo-dropdown placeholder="{{'Bitte wählen...'|translate}}" dropdown-id="tour" display-style="uib-dropdown" values="touren" selected-prop="id" property="name" selected="vertriebsart.tourId" required></oo-dropdown>
            </div>
          </td>
          <td>
            <div class="form-group" ng-if="isPreselectionComplete(vertriebsart)">
              <label for="lieferzeitpunkte" translate>Liefertag</label>
            </div>
            <div class="form-group" ng-if="isPreselectionComplete(vertriebsart)">
              <oo-liefertage liefertag="vertriebsart.liefertag" required></oo-liefertage>
            </div>
          </td>
          <td>
            <div class="pull-right">
              <div class="btn-group" ng-hide="updatingVertriebsart(vertriebsart)">
                <button role="button" ng-href="" ng-hide="invalidVertriebsart(vertriebsart)" ng-click="updateVertriebsart(vertriebsart)" class="btn btn-sm btn-primary"><i class="fa fa-floppy-o"></i></button>
              </div>
              <div class="btn-group" ng-hide="updatingVertriebsart(vertriebsart)">
                <button role="button" ng-href="" ng-hide="vertriebsarten.length < 2" ng-click="deleteVertriebsart(vertriebsart)" class="btn btn-sm btn-danger"><span class="glyphicon glyphicon-remove"></span></button>
              </div>
              <div class="btn-group" ng-hide="updatingVertriebsart(vertriebsart)">
                <button role="button" ng-href="" ng-show="vertriebsart.id" ng-click="selectVertriebsart(vertriebsart)" class="btn btn-sm btn-default" oo-stop-event><i class="fa fa-long-arrow-right"></i></button>
              </div>
              <i ng-show="updatingVertriebsart(vertriebsart)" ng-cloak class="fa fa-circle-o-notch fa-spin"></i>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
